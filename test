#!/bin/bash

# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

set -euo pipefail
export CCF_PLATFORM=virtual
export MEMBER_COUNT=1
export KMS_WORKSPACE=${PWD}/workspace
export CCF_NAME="500dev10"
export KMS_URL=https://${CCF_NAME}.confidential-ledger.azure.com
export IDENTITY_URL=https://identity.confidential-ledger.core.azure.com/ledgerIdentity/${CCF_NAME}
export KEYS_DIR=${PWD}/vol
export PUBLIC_CERT=${KEYS_DIR}/member0_cert.pem
export PRIVATE_CERT=${KEYS_DIR}/member0_privk.pem
export SERVICE_CERT=${KEYS_DIR}/service_cert.pem
export WRAPPING_KEY=$(jq -Rs . < test/data-samples/publicWrapKey.pem)
export ATTESTATION=$(<test/attestation-samples/snp.json)
export AUTHORIZATION="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InEtMjNmYWxldlpoaEQzaG05Q1Fia1A1TVF5VSIsImtpZCI6InEtMjNmYWxldlpoaEQzaG05Q1Fia1A1TVF5VSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tLyIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzcyZjk4OGJmLTg2ZjEtNDFhZi05MWFiLTJkN2NkMDExZGI0Ny8iLCJpYXQiOjE3MTI4MzgyODYsIm5iZiI6MTcxMjgzODI4NiwiZXhwIjoxNzEyOTI0OTg2LCJhaW8iOiJFMk5nWUtpNXRGUDg0SVNOVGtrM05OZHdONlIwQVFBPSIsImFwcGlkIjoiZTZlOGIxMzUtYjJlMy00ZjUxLWJiNjgtMWJkNzhmYWNkMDFiIiwiYXBwaWRhY3IiOiIyIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3LyIsImlkdHlwIjoiYXBwIiwib2lkIjoiNjA2NDU2ZTctMzRjMy00MzgyLTkzNTItYjc5MDM5MzBiYzk0IiwicmgiOiIwLkFSb0F2NGo1Y3ZHR3IwR1JxeTE4MEJIYlIwWklmM2tBdXRkUHVrUGF3ZmoyTUJNYUFBQS4iLCJzdWIiOiI2MDY0NTZlNy0zNGMzLTQzODItOTM1Mi1iNzkwMzkzMGJjOTQiLCJ0aWQiOiI3MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDciLCJ1dGkiOiJZSFBxckZpV1RVbUx1eUtWNTRPOUFBIiwidmVyIjoiMS4wIiwieG1zX2F6X3JpZCI6Ii9zdWJzY3JpcHRpb25zLzg1YzYxZjk0LTg5MTItNGU4Mi05MDBlLTZhYjQ0ZGU5YmRmOC9yZXNvdXJjZWdyb3Vwcy9rbXMvcHJvdmlkZXJzL01pY3Jvc29mdC5Db250YWluZXJJbnN0YW5jZS9jb250YWluZXJHcm91cHMva21zc2VydmVyIiwieG1zX21pcmlkIjoiL3N1YnNjcmlwdGlvbnMvODVjNjFmOTQtODkxMi00ZTgyLTkwMGUtNmFiNDRkZTliZGY4L3Jlc291cmNlZ3JvdXBzL2ttcy9wcm92aWRlcnMvTWljcm9zb2Z0Lk1hbmFnZWRJZGVudGl0eS91c2VyQXNzaWduZWRJZGVudGl0aWVzL2ttcy1taSIsInhtc190Y2R0IjoiMTI4OTI0MTU0NyJ9.9dDJ7koB71RDB16haOtSoia0SI3sLOp_W9dZP0WuNWk0gRc_UDfh9J-69ySFCSTk2o5LypR8YRtWGPDXvNwwJfYxVnyJt8kMhCL7C8lh9QfSX9eOWm7LN09sgter_D3rmDtMP_ZYlplcdMpT_XtkzTB60HiaB9iJRZS6jaGOktwVgCy26ljS6aiK-RQWqwlXLTkwEGjLJZy8A6twP_-5rFFUNBEQZ0fYsuwhk4Thl69D3Yyehb_NZXIXVsE4D2CQ0nCIAGG5jnuxN0Iu5yDstYz3y3rBoOBLWAPWMvV8HDx1ARpmdnP158vCMmn6b4PY_4YMQCatogqNlUcNRtX1FA"
